# AStimWavPatcher

Пример скрипта для записи команд AStim в файлы WAV (триггер 6).  
AStim работает с 16-битными WAV-файлами с частотой дискретизации _44100 Гц_.

![](./img/nvx36+52_scheme.png)

## Описание команд

Команды трехбитовые, каждый бит кодируется двумя последовательными 16-битными отсчетами по правому каналу:

    Бит 0: -32768 и +32767;
    Бит 1: +32767 и -32768.

Между битами не должно быть никаких промежутков.  
Между командами должен быть хотя бы один отсчет, состоящий из одних нулей (0).  
Если нет команд, то в правом канале передаются только одни нулевые отсчеты.  

Если по правому каналу массово идут нулевые отсчеты, A-Stim переходит в моно режим (в правый канал поступают отсчеты из левого канала).  
Если по правому каналу массово идут не-нулевые отсчеты, A-Stim переходит в стандартный стерео режим.  

Команды:
1) 000 - выключить левый канал, 001 - включить левый канал (default);
2) 010 - выключить правый канал, 011 - включить левый канал (default);
3) 100 - установить триггер 6 LOW, 101 - установить триггер 6 HIGH (default);
3) 110 - установить триггер 7 LOW, 111 - установить триггер 7 HIGH (default).

## Примеры файлов

В папке [audio/examples]() приведены примеры WAV-файлов с добавленными командами в правом канале.  
Файл [audio/examples/output_example_1s.wav]() получен в результате обработки файла [audio/origin/input_example_1s.wav]() скриптом [wavpatcher.py]()